<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>ESP32-CAM Rover</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <header>
    <div class="logo">
      <img src="/logo.svg" alt="Logo" width="32" height="32">
    </div>
    <h1>ESP32-CAM Rover</h1>
    <div class="status" id="connection-status">
      <span class="dot"></span>
      <span class="text">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span>
    </div>
  </header>

  <main>
    <!-- –í–∏–¥–µ–æ –ø–∞–Ω–µ–ª—å -->
    <div class="video-panel">
      <div class="video-container">
        <img id="video-feed" alt="Video Feed">
        <div class="video-overlay" id="video-overlay">
          <div class="loader"></div>
          <span>–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∏–º–∞...</span>
        </div>
      </div>

      <div class="controls">
        <button id="stream-toggle" class="btn primary">
          <span class="icon">‚ñ∂</span> –°—Ç—Ä–∏–º
        </button>
        <button id="photo-btn" class="btn secondary">
          <span class="icon">üì∑</span> –§–æ—Ç–æ
        </button>
        <button id="led-btn" class="btn led">
          <span class="icon">üí°</span> LED
        </button>
      </div>
    </div>

    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="info-panel">
      <div class="info-item">
        <span class="label">–°—Ç—Ä–∏–º URL</span>
        <code id="stream-url">‚Äî</code>
      </div>
      <div class="info-item">
        <span class="label">–°—Ç–∞—Ç—É—Å</span>
        <span id="stream-status">–û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω</span>
      </div>
    </div>

    <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–∞–º–∏ -->
    <div class="drive-panel">
      <h2>üöó –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–∞–º–∏</h2>
      
      <div class="motors-grid">
        <!-- Front Left -->
        <div class="motor-control" data-motor="fl">
          <span class="motor-label">FL</span>
          <div class="motor-buttons">
            <button class="btn-motor inc" data-action="increment">+</button>
            <button class="btn-motor dec" data-action="decrement">‚àí</button>
          </div>
          <div class="motor-bar">
            <div class="motor-bar-fill" id="bar-fl"></div>
          </div>
          <span class="motor-value" id="val-fl">0</span>
        </div>

        <!-- Front Right -->
        <div class="motor-control" data-motor="fr">
          <span class="motor-label">FR</span>
          <div class="motor-buttons">
            <button class="btn-motor inc" data-action="increment">+</button>
            <button class="btn-motor dec" data-action="decrement">‚àí</button>
          </div>
          <div class="motor-bar">
            <div class="motor-bar-fill" id="bar-fr"></div>
          </div>
          <span class="motor-value" id="val-fr">0</span>
        </div>

        <!-- Rear Left -->
        <div class="motor-control" data-motor="rl">
          <span class="motor-label">RL</span>
          <div class="motor-buttons">
            <button class="btn-motor inc" data-action="increment">+</button>
            <button class="btn-motor dec" data-action="decrement">‚àí</button>
          </div>
          <div class="motor-bar">
            <div class="motor-bar-fill" id="bar-rl"></div>
          </div>
          <span class="motor-value" id="val-rl">0</span>
        </div>

        <!-- Rear Right -->
        <div class="motor-control" data-motor="rr">
          <span class="motor-label">RR</span>
          <div class="motor-buttons">
            <button class="btn-motor inc" data-action="increment">+</button>
            <button class="btn-motor dec" data-action="decrement">‚àí</button>
          </div>
          <div class="motor-bar">
            <div class="motor-bar-fill" id="bar-rr"></div>
          </div>
          <span class="motor-value" id="val-rr">0</span>
        </div>
      </div>

      <button id="stop-all" class="btn stop-btn">üõë STOP ALL</button>
    </div>

    <!-- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥–∂–æ–π—Å—Ç–∏–∫ -->
    <div class="joystick-panel">
      <h2>üéÆ –î–∂–æ–π—Å—Ç–∏–∫</h2>
      
      <div class="joystick-container">
        <!-- –û–±–ª–∞—Å—Ç—å –¥–∂–æ–π—Å—Ç–∏–∫–∞ -->
        <div class="joystick-area" id="joystick-area">
          <!-- –í–Ω–µ—à–Ω–∏–π –∫—Ä—É–≥ (–∑–æ–Ω–∞ –¥–≤–∏–∂–µ–Ω–∏—è) -->
          <div class="joystick-base">
            <!-- –†—É—á–∫–∞ –¥–∂–æ–π—Å—Ç–∏–∫–∞ -->
            <div class="joystick-stick" id="joystick-stick"></div>
          </div>
          <!-- –ü–µ—Ä–µ–∫—Ä–µ—Å—Ç–∏–µ -->
          <div class="joystick-crosshair"></div>
        </div>
        
        <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –æ—Å–µ–π -->
        <div class="joystick-info">
          <div class="axis-display">
            <span class="axis-label">X:</span>
            <span class="axis-value" id="joy-x">0</span>
          </div>
          <div class="axis-display">
            <span class="axis-label">Y:</span>
            <span class="axis-value" id="joy-y">0</span>
          </div>
          <div class="axis-display">
            <span class="axis-label">‚è±Ô∏è</span>
            <span class="axis-value" id="joy-active">‚Äî</span>
          </div>
        </div>
      </div>
      
      <!-- –ë—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π -->
      <div class="direction-buttons">
        <button class="dir-btn" data-dir="forward">‚¨ÜÔ∏è</button>
        <div class="dir-row">
          <button class="dir-btn" data-dir="left">‚¨ÖÔ∏è</button>
          <button class="dir-btn stop" data-dir="stop">‚èπÔ∏è</button>
          <button class="dir-btn" data-dir="right">‚û°Ô∏è</button>
        </div>
        <button class="dir-btn" data-dir="backward">‚¨áÔ∏è</button>
      </div>
    </div>
  </main>

  <footer>
    <p>ESP32-CAM Rover ¬© 2026</p>
  </footer>

  <script src="/script.js"></script>
</body>
</html>
